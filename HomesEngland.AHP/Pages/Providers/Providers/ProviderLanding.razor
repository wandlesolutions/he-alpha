@page "/providers/byid/{ProviderId:guid}"
@using HomesEngland.AHP.Data;
@inject IGrantRepository grantRepo

<PageTitle>Affordable Housing Grants</PageTitle>

<Caption CaptionSize="CaptionSize.Large">@ProviderName</Caption>

<PageHeading>Affordable Housing Grants</PageHeading>

<LandingNavigation>
    <LandingNavigationItem Heading="Schemes" Description="Manage existing granted schemes or apply for additional funding" Href="@($"/providers/bykey/{ProviderId}/schemes")"></LandingNavigationItem>
    <LandingNavigationItem Heading="Properties" Description="Manage properties as part of schemes" Href="@($"/providers/bykey/{ProviderId}/properties")"></LandingNavigationItem>
    <LandingNavigationItem Heading="Grant milestones" Description="View and complete milestones for properties" Href="@($"/providers/bykey/{ProviderId}/milestones")"></LandingNavigationItem>
    <LandingNavigationItem Heading="Expense claims" Description="View and submit an expense claim" Href="@($"/providers/bykey/{ProviderId}/expenses")"></LandingNavigationItem>

</LandingNavigation>

@code {
    [Parameter]
    public Guid ProviderId { get; set; }

    private string? ProviderName;

    protected override async Task OnInitializedAsync()
    {
        var provider = await grantRepo.GetProvider(ProviderId);
        ProviderName = provider.ProviderName;
    }
}